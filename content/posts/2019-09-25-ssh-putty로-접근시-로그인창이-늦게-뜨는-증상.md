---
title: "ssh putty로 접근시 로그인창이 늦게 뜨는 증상."
date: 2019-09-25T21:16:05+09:00
draft: false
categories: ["Linux"]
tags: ["usedns no", "gssapi", "ssh", "putty"]
slug: "ssh-putty로-접근시-로그인창이-늦게-뜨는-증상"
aliases:
  - /ssh-putty로-접근시-로그인창이-늦게-뜨는-증상/
  - /ssh-putty%eb%a1%9c-%ec%a0%91%ea%b7%bc%ec%8b%9c-%eb%a1%9c%ea%b7%b8%ec%9d%b8%ec%b0%bd%ec%9d%b4-%eb%8a%a6%ea%b2%8c-%eb%9c%a8%eb%8a%94-%ec%a6%9d%ec%83%81/
---

\n

putty로 ssh 접근시에 로그인이 느리다는 의뢰인이 있었다.

\n\n\n\n

보통이경우엔 UseDNS no 나 GSSAPI Authentication 인증으로 인하여 느려지게 된다. GSSAPI 관련 문제의 경우엔 보통 secure 로그에 GSSAPI 에러가 남게된다. 그래서 보통 접근은 DNS -> GSSAPI 순으로 하게되는데 제일먼저 /etc/resolv.conf 에 nameserver 설정을 변경하고 그다음은 sshd\_config 에서 UseDNS no 설정을 추가하게 된다.

\n\n\n\n
![](/images/2019/09/KakaoTalk\_Snapshot\_20190925\_205415-2.png)
\n\n\n\n
![](/images/2019/09/KakaoTalk\_Snapshot\_20190925\_205535-1.png)
\n\n\n\n
![](/images/2019/09/KakaoTalk\_Snapshot\_20190925\_205559.png)
\n\n\n\n

일단 하나로 UseDNS no 옵션도 GSSAPI도 아니라 일단 하나로 DNS인 210.220.163.82를 알려주었다.

\n\n\n\n

그러던중 이상한걸 발견했다. sesure 로그에서 질문인의 IP가 222.222.222.1인것.

\n\n\n\n
![](/images/2019/09/Screenshot-2019-09-25-at-21.11.09-1024x596.jpg)
\n\n\n\n

베이징 IP다.

\n\n\n\n
![](/images/2019/09/KakaoTalk\_Snapshot\_20190925\_205559-1.png)
\n\n\n\n
![](/images/2019/09/KakaoTalk\_Snapshot\_20190925\_205659-571x1024.png)
\n\n\n\n

222.222.222.1은 베이징의 공인IP로 퍼블릭으로 연결되는 설정이 있는 VM의 경우 route로인해 첫번째 문제가 발생하고 vm에서 dns 확인하면서 ssh 접속이 느려지는 문제가 발생한다, 그렇기에 우리는 네트워크에 정해진 규약을 사용해야 한다.

\n\n\n\n

10.0.0.0 ~ 10.255.255.255  
172.16.0.0 ~ 172.31.255.255  
192.168.0.0 ~ 192.168.255.255  
사설 IP 대역을 사용하지 않아서 ssh 접속이 느려졌다.

\n\n\n\n

사설 IP사용은 이유가 있다.

\n\n\n\n

오늘 포스팅 주제를 선물해주신 신난 어피치님 매우 감사드린다!

\n