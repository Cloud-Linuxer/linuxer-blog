---
title: "file swap 만들기"
date: 2019-09-07T20:37:41+09:00
draft: false
categories: ["AWS", "Linux"]
tags: ["fileswap", "ec2 swap"]
slug: "file-swap-만들기"
aliases:
  - /file-swap-만들기/
  - /file-swap-%eb%a7%8c%eb%93%a4%ea%b8%b0/
---


더미파일 생성

```
$dd if=/dev/zero of=/root/swapfile bs=1024 count=2000000
 1580109+0 records in
 1580109+0 records out
 1618031616 bytes (1.6 GB) copied, 23.3556 s, 69.3 MB/s
```
생성된 파일 확인

```
$ll /root/swapfile
 total 1580112
 -rw-r--r-- 1 root root 1618031616 Sep 7 20:24 swapfile
```
swapfile 에 권한 생성

```
$chmod 600 /root/swapfile
```
swap 생성

```
$mkswap /root/swapfile
 Setting up swapspace version 1, size = 1.5 GiB (1618026496 bytes)
 no label, UUID=89d2f092-7fee-4fa2-854a-77a914e79367
```
swap 마운트

```
$swapon /root/swapfile
$free -m
 total used free shared buff/cache available
 Mem: 983 136 75 18 771 669
 Swap: 1543 0 1543
```
swap 자동 마운트 rc.local 하단에 추가

```
$vi /etc/rc.local
 swapon /root/swapfile
```